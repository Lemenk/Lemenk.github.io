---
title: 希尔排序
date: 2018-09-09 22:07:05
tags:
- 排序
categories:
- 排序
---

**排序算法之希尔排序**

<!--more-->

**希尔排序**(Shell's Sort)是插入排序的一种又称“缩小增量排序”，是直接插入排序算法的一种更高效的改进版本。希尔排序是非稳定排序算法。

算法思想：

1. 首先它把较大的数据集合依据步长（步长=数组长度/2）分割成若干个小组（逻辑上分组），然后对每一个小组分别进行插入排序。
2. 然后将步长减半，得到新的小组，继续进行插入排序。
3. 依此类推，直到数组有序

```java
public static void shellSort(int[] arr){
    //遍历所有的步长
    for (int d = arr.length/2 ; d>0 ; d/=2){
        //遍历所有的元素
        for (int i = d ; i<arr.length;i++){
            //遍历本组中所有的元素
            for(int j = i-d;j>=0;j-=d ){
                //如果当前元素大于加上步长后的那个元素
                if(arr[j]>arr[j+d]){
                    int tmp = arr[j];
                    arr[j] = arr[j+d];
                    arr[j+d]= tmp;
                }
            }
        }
    }
}
```

解释：

对于数组[3,7,5,1,2,6]来说，第一次将步长d设置为数组长度的一半，即`int d = arr.length/2=3;`，然后从第一个元素开始每隔一个步长的所有元素为一个小组，对小组内的元素进行排序。即小组为[3,1]、[7,2]、[5,6]。

当j=i-d=0时，将3和1排序，此时j-=d即j=j-d=0-2=-2;跳出最内层循环，然后i++变成3，进入内层循环……