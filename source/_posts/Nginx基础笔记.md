---
title: Nginx基础笔记
date: 2020-05-13 23:16:36
author: Lemenk
summary: Nginx的基础学习笔记，在linux服务器配置Nginx，并在浏览器访问Nginx
categories: Nginx
tags:
  - 教程
  - 网站运维
---

# Nginx的基本概念

## Nginx的基础概念

1. 什么是Nginx？

   [*Nginx*](http://nginx.org/) (engine x) 是一个高性能的[HTTP](https://baike.baidu.com/item/HTTP)和[反向代理](https://baike.baidu.com/item/反向代理/7793488)web服务器，同时也提供了IMAP/POP3/SMTP服务。是一款轻量级的Web服务器/反向代理服务器及电子邮件(IMAP/POP3)代理服务器，在BSD-like 协议下发行。——百度百科

2. 特点：

   占有内存少，[并发](https://baike.baidu.com/item/并发/11024806)能力强，性能优越。


## 反向代理

既然有反向代理，那么肯定有正向代理。先来介绍正向代理。

### 正向代理

举个例子，大陆用户访问谷歌/油管，由于某些原因无法访问。这时如果你要成功访问油管，那就需要一个代理服务器。就是所谓的梯子和翻wall工具。但是你的浏览器需要一些配置，才能成功完成这个步骤。

所谓正向代理就是顺着请求的方向进行的代理，即代理服务器是由你配置、为你服务，去请求目标服务器地址。而谷歌并不知道是你访问了它。

因此，**你(浏览器)---<img src="https://lemenk-img-aliyun.oss-cn-beijing.aliyuncs.com/img/305504-20161112124853014-1532060796.png" alt="305504-20161112124853014-1532060796" style="zoom:50%;" />>代理服务器--->谷歌/油管**这个步骤就是正向代理。



### 反向代理

而反向代理是把**代理服务器**和**目的服务器**(谷歌/油管)视为**一个服务器**。而代理服务器是暴露出来的，目的服务器隐藏。代理服务器的作用是接受客户端浏览器的数据，转发给目的服务器。代理服务器是为目标服务器服务的。

比如说我们访问百度，在输入www.baidu.com域名后，我们并不知道是由百度哪一个服务器节点返回的数据。对于我们而言，百度的代理服务器和数据服务器就是一个服务器。

![305504-20161112124341280-1435223816](https://lemenk-img-aliyun.oss-cn-beijing.aliyuncs.com/img/305504-20161112124341280-1435223816.png)

### 总结：

来自于[知乎](https://www.zhihu.com/question/24723688)：正向代理隐藏真实客户端，反向代理隐藏真实服务端。

<img src="https://lemenk-img-aliyun.oss-cn-beijing.aliyuncs.com/img/305504-20161112130135639-1005446770.png" alt="305504-20161112130135639-1005446770" />

#### 用途：

##### 正向代理：

- 访问原来无法访问的资源，如google等
- 可以做缓存，加速访问资源
- 对客户端访问授权，上网进行认证
- 代理可以记录用户访问记录（上网行为管理），对外隐藏用户信息

##### 反向代理：

- 保证内网的安全，可以使用反向代理提供WAF功能，阻止web攻击

  大型网站，通常将反向代理作为公网访问地址，Web服务器是内网。

- 负载均衡，通过反向代理服务器来优化网站的负载

## 负载均衡

举个例子：再我们坐地铁时，由于乘客很多，若是地铁门只有一个，那么会导致该车门处人流量很大，乘客不能快速的进入地铁车厢中。为了提高效率，就需要设置多个车门，并要求地铁工作人员合理安排每个车门处等候的乘客数量，以保证能尽快的进入地铁车厢。

这个过程就是简单的负载均衡。

在网络流量呈指数级增长的现在，网站的一台服务器往往很难解决大流量数据请求问题。这里就需要使用反向代理和负载均衡。通过一个代理服务器将请求分发给多台服务器。

**负载均衡（Load Balance），意思是将负载（工作任务，访问请求）进行平衡、分摊到多个操作单元（服务器，组件）上进行执行。是解决高性能，单点故障（高可用），扩展性（水平伸缩）的终极解决方案。**

## 动静分离

# Nginx的安装、配置和常用命令

## 在linux系统中安装Nginx

## Nginx的常用命令

## Nginx的配置文件

# Nginx的配置实例

## 反向代理

## 负载均衡

## 动静分离

# Nginx配置高可用集群

# Nginx原理解析